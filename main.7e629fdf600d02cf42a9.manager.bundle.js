(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{399:function(module,exports,__webpack_require__){__webpack_require__(400),__webpack_require__(770),__webpack_require__(771),module.exports=__webpack_require__(769)},467:function(module,exports){},769:function(module,exports,__webpack_require__){"use strict";__webpack_require__(96).addons.setConfig({refs:{}})},771:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react=__webpack_require__(0),react_default=__webpack_require__.n(react),esm=__webpack_require__(73),types=__webpack_require__(189),ADDON_ID="storybook-addon-theme-toggle",TOOL_ID="".concat(ADDON_ID,"/tool"),dist_esm=__webpack_require__(7),lazy_WithTooltip=__webpack_require__(774),bar_button=__webpack_require__(391),icon=__webpack_require__(195),TooltipLinkList=__webpack_require__(776),theming_dist_esm=__webpack_require__(1),Color_Color=function Color(_ref){var background=_ref.background,imageUrl=_ref.imageUrl;return react_default.a.createElement(Background,{background:background},imageUrl&&react_default.a.createElement(Icon,{src:imageUrl}))},Background=theming_dist_esm.styled.div((function(_ref2){return{borderRadius:"1rem",height:"1rem",width:"1rem",position:"relative",background:_ref2.background}}),(function(_ref3){var appBorderColor=_ref3.theme.appBorderColor;return{boxShadow:"".concat(appBorderColor," 0 0 0 1px inset")}})),Icon=theming_dist_esm.styled.img({position:"absolute",top:"0.2rem",left:"0.2rem",height:"0.6rem",width:"0.6rem"}),Tooltip_Tooltip=function Tooltip(_ref){var _themeParams$clearabl,selected=_ref.selected,setTheme=_ref.setTheme,themeParams=_ref.themeParams,links=themeParams.themes.map((function(_ref2){var id=_ref2.id,title=_ref2.title,color=_ref2.color,imageUrl=_ref2.imageUrl;return{id:id,key:id,loading:!1,title:null!=title?title:id,active:selected&&id===selected.id,onClick:function onClick(){return setTheme(id)},right:react_default.a.createElement(Color_Color,{background:color,imageUrl:imageUrl})}}));return selected&&(null===(_themeParams$clearabl=themeParams.clearable)||void 0===_themeParams$clearabl||_themeParams$clearabl)&&links.unshift(Tooltip_getClearLink(setTheme)),react_default.a.createElement(TooltipLinkList.a,{links:links})},Tooltip_getClearLink=function getClearLink(setTheme){var id="__clearable__link___";return{id:id,key:id,loading:!1,title:"Clear selected theme",active:!1,onClick:function onClick(){return setTheme()},right:react_default.a.createElement(icon.a,{icon:"cross"})}},core_events_dist_esm=__webpack_require__(9);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=arr&&("undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"]);if(null==_i)return;var _s,_e,_arr=[],_n=!0,_d=!1;try{for(_i=_i.call(arr);!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}var iconBtnId="sotrybook-addon-theme-toggle-icon-btn",Tool_Tool=function Tool(_ref){var _themeParams$themes2,_themeParams$icon,api=_ref.api,_useState2=_slicedToArray(Object(react.useState)(!1),2),expanded=_useState2[0],setExpanded=_useState2[1],_useGlobals2=_slicedToArray(Object(dist_esm.i)(),2),globals=_useGlobals2[0],updateGlobals=_useGlobals2[1],selectedId=globals.theme?String(globals.theme):void 0,themeParams=Object(dist_esm.j)("theme",null),themeParamsRef=Object(react.useRef)(themeParams);Object(react.useEffect)((function(){themeParamsRef.current=themeParams}),[themeParams]);var getTheme=Object(react.useCallback)((function(themeId){var _themeParams$themes;return(null!==(_themeParams$themes=null==themeParams?void 0:themeParams.themes)&&void 0!==_themeParams$themes?_themeParams$themes:[]).find((function(_ref2){return _ref2.id===(null!=themeId?themeId:selectedId)}))}),[themeParams,selectedId]),setTheme=Object(react.useCallback)((function(themeId){var _themeParams$blurOnSe,forcedUpdate=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(themeId!==selectedId){var _themeParams$onChange,newTheme=getTheme(null!=themeId?themeId:"");null==themeParams||null===(_themeParams$onChange=themeParams.onChange)||void 0===_themeParams$onChange||_themeParams$onChange.call(themeParams,newTheme),updateGlobals({theme:themeId})}if(!forcedUpdate&&(null===(_themeParams$blurOnSe=null==themeParams?void 0:themeParams.blurOnSelect)||void 0===_themeParams$blurOnSe||_themeParams$blurOnSe)){var _iconBtn$click,iconBtn=document.querySelector("#".concat(iconBtnId));null==iconBtn||null===(_iconBtn$click=iconBtn.click)||void 0===_iconBtn$click||_iconBtn$click.call(iconBtn)}}),[updateGlobals,selectedId,getTheme]);if(Object(react.useEffect)((function(){var setDefaultTheme=function setDefaultTheme(){var _themeParamsRef$curre,_themeParamsRef$curre2,value=null!==(_themeParamsRef$curre=themeParamsRef.current)&&void 0!==_themeParamsRef$curre&&_themeParamsRef$curre.persist?selectedId:null===(_themeParamsRef$curre2=themeParamsRef.current)||void 0===_themeParamsRef$curre2?void 0:_themeParamsRef$curre2.default;setTheme(value)};return api.on(core_events_dist_esm.CURRENT_STORY_WAS_SET,setDefaultTheme),function(){return api.off(core_events_dist_esm.CURRENT_STORY_WAS_SET,setDefaultTheme)}}),[themeParamsRef,selectedId]),Object(react.useEffect)((function(){var setInitialTheme=function setInitialTheme(){if(themeParamsRef.current&&!selectedId){var _getThemeFromUrl,_themeParamsRef$curre3,themeId=null!==(_getThemeFromUrl=function getThemeFromUrl(_ref3){var _URL$searchParams$get,_re$exec,themes=_ref3.themes,ignoreQueryParams=_ref3.ignoreQueryParams;if(null==ignoreQueryParams||ignoreQueryParams)return null;var re=/theme:([^;]*)/,globals=null!==(_URL$searchParams$get=new URL(window.location.toString()).searchParams.get("globals"))&&void 0!==_URL$searchParams$get?_URL$searchParams$get:"",themeId=_slicedToArray(null!==(_re$exec=re.exec(globals))&&void 0!==_re$exec?_re$exec:[],2)[1];return themes.find((function(_ref6){return _ref6.id===themeId}))?themeId:re.test(globals)?"":null}(themeParamsRef.current))&&void 0!==_getThemeFromUrl?_getThemeFromUrl:null===(_themeParamsRef$curre3=themeParamsRef.current)||void 0===_themeParamsRef$curre3?void 0:_themeParamsRef$curre3.default;updateGlobals({theme:themeId})}};return api.on(core_events_dist_esm.SET_STORIES,setInitialTheme),function(){return api.off(core_events_dist_esm.SET_STORIES,setInitialTheme)}}),[]),!themeParams||themeParams.disable||0===(null===(_themeParams$themes2=themeParams.themes)||void 0===_themeParams$themes2?void 0:_themeParams$themes2.length))return null;var theme=getTheme();return react_default.a.createElement(lazy_WithTooltip.a,{placement:"top",trigger:"click",tooltipShown:expanded,onVisibilityChange:setExpanded,tooltip:react_default.a.createElement(Tooltip_Tooltip,{selected:theme,themeParams:themeParams,setTheme:setTheme})},react_default.a.createElement(bar_button.a,{id:iconBtnId,key:TOOL_ID,active:Boolean(theme),title:"Select theme",onClick:function onClick(){return setExpanded(!0)}},react_default.a.createElement(icon.a,{icon:null!==(_themeParams$icon=themeParams.icon)&&void 0!==_themeParams$icon?_themeParams$icon:"contrast"})))};esm.c.register(ADDON_ID,(function(api){esm.c.add(TOOL_ID,{type:types.b.TOOL,title:"Theme toggle",match:function match(_ref){return"story"===_ref.viewMode},render:function render(){return react_default.a.createElement(Tool_Tool,{api:api})}})}))}},[[399,2,3]]]);